@using MRWBlogs.Models.Blogs
@using MRWBlogs.Utilities
@inject NavigationManager NavigationManager

<div class="BlogSummaryView">
    <figure class="img_room">
        @if (Model != null)
        {
            if (@Model.ArticleImages.Count > 0)
            {
                <img src="/Images/ArticlesImages/@Model.GetImgURL()" />
            }
            else
            {
                <img src="/Images/ArticlesImages/gen_image.jpg" />
            }
        }
    </figure>
    <div class="main_part_room">
        <div class="descriptio_part">
            @if(Model!=null)
            {
                <h4>
                    @Model.Title 
                </h4>
                <p>
                    @Model.Content
                </p>
            }
        </div>
        <div class="key_words_part">
            <div class="key_words_keyword">KeyWords:</div>
            @if (Model != null)
            {
                <div class="key_words_list">@Model.KeyWords</div>
            }
        </div>
    </div>
        <div class="buttons_area">
        @* see details*@

            <span class="icon_menu first" title="take a look...">
                <div @onclick="Details"><i class="fa-solid fa-info"></i></div>
            </span>
            @* delete*@
            <span class="icon_menu" title="Toggle visiability">
                <div @onclick="ToggleVisiability"><i class="fa-solid fa-eye-low-vision"></i></div>
            </span>
        </div>
    
</div>
@code {
    [Parameter]
    public BlogsMessageSummaryModel? Model { get; set; }
    [Inject]
    public ICookie? cookie { get; set; }

    private void Details()
    {
        if (Model is not null)
        {
            NavigationManager.NavigateTo($"/blogmessage/{Model.MessageId}");
        }
    }
    private void ToggleVisiability()
    {
        
    }
}
